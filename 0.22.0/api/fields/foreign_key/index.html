
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A simple async ORM with fastapi in mind and pydantic validation.">
      
      
      
        <link rel="canonical" href="https://collerek.github.io/ormar/latest/api/fields/foreign_key/">
      
      
        <link rel="prev" href="../constraints/">
      
      
        <link rel="next" href="../many_to_many/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.50">
    
    
      
        <title>foreign_key - ormar</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.a40c8224.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/default.min.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","UA-72514911-3"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","UA-72514911-3",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=UA-72514911-3",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ormar.fields.foreign_key" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="ormar" class="md-header__button md-logo" aria-label="ormar" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ormar
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              foreign_key
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/collerek/ormar" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    collerek/ormar
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="ormar" class="md-nav__button md-logo" aria-label="ormar" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    ormar
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/collerek/ormar" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    collerek/ormar
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Models
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Models
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Definition
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/inheritance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Inheritance
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/methods/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Methods
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/migrations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Migrations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/internals/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Internals
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Fields
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Fields
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../fields/common-parameters/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Common parameters
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../fields/field-types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fields types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../fields/pydantic-fields/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pydantic only fields
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../fields/encryption/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fields encryption
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Relations
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Relations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../relations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Relation types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../relations/foreign-key/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ForeignKey
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../relations/many-to-many/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ManyToMany
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../relations/postponed-annotations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Postponed annotations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../relations/queryset-proxy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    QuerySetProxy
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../queries/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Queries
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Queries
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../queries/create/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Insert data into database
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../queries/read/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Read data from database
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../queries/update/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Update data in database
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../queries/delete/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Delete data from database
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../queries/joins-and-subqueries/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Joins and subqueries
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../queries/filter-and-sort/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Filtering and sorting data
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../queries/select-columns/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Selecting subset of columns
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../queries/pagination-and-rows-number/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pagination and rows number
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../queries/aggregations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aggregation functions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../queries/raw-data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Return raw data
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../signals/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Signals
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../transactions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Transactions
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Use with Fastapi
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Use with Fastapi
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../fastapi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quick Start
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../fastapi/response/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using ormar in responses
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../fastapi/requests/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using ormar in requests
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../mypy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Use with mypy
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../migration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Migration to v 0.20
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../plugin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PyCharm plugin
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../releases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Release Notes
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_15" checked>
        
          
          <label class="md-nav__link" for="__nav_15" id="__nav_15_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Api (BETA)
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_15_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_15">
            <span class="md-nav__icon md-icon"></span>
            Api (BETA)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_15_1" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    ormar
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_15_1" id="__nav_15_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_15_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_15_1">
            <span class="md-nav__icon md-icon"></span>
            ormar
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_15_1_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../databases/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    databases
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_15_1_1" id="__nav_15_1_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_15_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_15_1_1">
            <span class="md-nav__icon md-icon"></span>
            databases
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../databases/connection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    connection
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../databases/query_executor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    query_executor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../databases/transaction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    transaction
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_15_1_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../decorators/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    decorators
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_15_1_2" id="__nav_15_1_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_15_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_15_1_2">
            <span class="md-nav__icon md-icon"></span>
            decorators
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../decorators/signals/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    signals
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../exceptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    exceptions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_15_1_4" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    fields
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_15_1_4" id="__nav_15_1_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_15_1_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_15_1_4">
            <span class="md-nav__icon md-icon"></span>
            fields
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../base/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    base
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../constraints/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    constraints
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    foreign_key
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    foreign_key
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key" class="md-nav__link">
    <span class="md-ellipsis">
      foreign_key
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.ForeignKeyConstraint" class="md-nav__link">
    <span class="md-ellipsis">
      ForeignKeyConstraint
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.ForeignKeyField" class="md-nav__link">
    <span class="md-ellipsis">
      ForeignKeyField
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ForeignKeyField">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.ForeignKeyField.default_source_field_name" class="md-nav__link">
    <span class="md-ellipsis">
      default_source_field_name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.ForeignKeyField.default_target_field_name" class="md-nav__link">
    <span class="md-ellipsis">
      default_target_field_name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.ForeignKeyField.evaluate_forward_ref" class="md-nav__link">
    <span class="md-ellipsis">
      evaluate_forward_ref
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.ForeignKeyField.expand_relationship" class="md-nav__link">
    <span class="md-ellipsis">
      expand_relationship
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.ForeignKeyField.get_model_relation_fields" class="md-nav__link">
    <span class="md-ellipsis">
      get_model_relation_fields
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.ForeignKeyField.get_related_field_alias" class="md-nav__link">
    <span class="md-ellipsis">
      get_related_field_alias
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.ForeignKeyField.get_related_field_name" class="md-nav__link">
    <span class="md-ellipsis">
      get_related_field_name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.ForeignKeyField.get_related_name" class="md-nav__link">
    <span class="md-ellipsis">
      get_related_name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.ForeignKeyField.get_relation_name" class="md-nav__link">
    <span class="md-ellipsis">
      get_relation_name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.ForeignKeyField.get_source_model" class="md-nav__link">
    <span class="md-ellipsis">
      get_source_model
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.ForeignKeyField.get_source_related_name" class="md-nav__link">
    <span class="md-ellipsis">
      get_source_related_name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.ForeignKeyField.has_unresolved_forward_refs" class="md-nav__link">
    <span class="md-ellipsis">
      has_unresolved_forward_refs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.ForeignKeyField.register_relation" class="md-nav__link">
    <span class="md-ellipsis">
      register_relation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.ForeignKey" class="md-nav__link">
    <span class="md-ellipsis">
      ForeignKey
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.create_dummy_instance" class="md-nav__link">
    <span class="md-ellipsis">
      create_dummy_instance
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.create_dummy_model" class="md-nav__link">
    <span class="md-ellipsis">
      create_dummy_model
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.populate_fk_params_based_on_to_model" class="md-nav__link">
    <span class="md-ellipsis">
      populate_fk_params_based_on_to_model
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.validate_not_allowed_fields" class="md-nav__link">
    <span class="md-ellipsis">
      validate_not_allowed_fields
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.validate_referential_action" class="md-nav__link">
    <span class="md-ellipsis">
      validate_referential_action
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../many_to_many/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    many_to_many
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../model_fields/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    model_fields
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../parsers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    parsers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../referential_actions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    referential_actions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sqlalchemy_encrypted/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sqlalchemy_encrypted
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sqlalchemy_uuid/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sqlalchemy_uuid
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../through_field/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    through_field
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_15_1_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../models/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    models
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_15_1_5" id="__nav_15_1_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_15_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_15_1_5">
            <span class="md-nav__icon md-icon"></span>
            models
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_15_1_5_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../models/descriptors/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    descriptors
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_15_1_5_1" id="__nav_15_1_5_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_15_1_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_15_1_5_1">
            <span class="md-nav__icon md-icon"></span>
            descriptors
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/descriptors/descriptors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    descriptors
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/excludable/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    excludable
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_15_1_5_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../models/helpers/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    helpers
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_15_1_5_3" id="__nav_15_1_5_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_15_1_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_15_1_5_3">
            <span class="md-nav__icon md-icon"></span>
            helpers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/helpers/models/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    models
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/helpers/pydantic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pydantic
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/helpers/related_names_validation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    related_names_validation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/helpers/relations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    relations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/helpers/sqlalchemy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sqlalchemy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/helpers/validation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    validation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/metaclass/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    metaclass
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_15_1_5_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../models/mixins/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    mixins
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_15_1_5_5" id="__nav_15_1_5_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_15_1_5_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_15_1_5_5">
            <span class="md-nav__icon md-icon"></span>
            mixins
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/mixins/alias_mixin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    alias_mixin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/mixins/excludable_mixin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    excludable_mixin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/mixins/merge_mixin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    merge_mixin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/mixins/pydantic_mixin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pydantic_mixin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/mixins/relation_mixin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    relation_mixin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/mixins/save_mixin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    save_mixin
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/model/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    model
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/model_row/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    model_row
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/modelproxy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    modelproxy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/newbasemodel/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    newbasemodel
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/ormar_config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ormar_config
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/quick_access_views/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    quick_access_views
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/traversible/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    traversible
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    utils
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_15_1_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../protocols/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    protocols
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_15_1_6" id="__nav_15_1_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_15_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_15_1_6">
            <span class="md-nav__icon md-icon"></span>
            protocols
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../protocols/queryset_protocol/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    queryset_protocol
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../protocols/relation_protocol/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    relation_protocol
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_15_1_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../queryset/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    queryset
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_15_1_7" id="__nav_15_1_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_15_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_15_1_7">
            <span class="md-nav__icon md-icon"></span>
            queryset
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_15_1_7_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../queryset/actions/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    actions
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_15_1_7_1" id="__nav_15_1_7_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_15_1_7_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_15_1_7_1">
            <span class="md-nav__icon md-icon"></span>
            actions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../queryset/actions/filter_action/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    filter_action
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../queryset/actions/order_action/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    order_action
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../queryset/actions/query_action/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    query_action
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../queryset/actions/select_action/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    select_action
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../queryset/clause/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    clause
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../queryset/field_accessor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    field_accessor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../queryset/join/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    join
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_15_1_7_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../queryset/queries/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    queries
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_15_1_7_5" id="__nav_15_1_7_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_15_1_7_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_15_1_7_5">
            <span class="md-nav__icon md-icon"></span>
            queries
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../queryset/queries/filter_query/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    filter_query
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../queryset/queries/limit_query/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    limit_query
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../queryset/queries/offset_query/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    offset_query
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../queryset/queries/order_query/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    order_query
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../queryset/queries/prefetch_query/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    prefetch_query
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../queryset/queries/query/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    query
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../queryset/queryset/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    queryset
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../queryset/reverse_alias_resolver/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    reverse_alias_resolver
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../queryset/utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    utils
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_15_1_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../relations/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    relations
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_15_1_8" id="__nav_15_1_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_15_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_15_1_8">
            <span class="md-nav__icon md-icon"></span>
            relations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relations/alias_manager/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    alias_manager
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relations/querysetproxy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    querysetproxy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relations/relation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    relation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relations/relation_manager/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    relation_manager
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relations/relation_proxy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    relation_proxy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relations/utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    utils
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_15_1_9" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../signals/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    signals
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_15_1_9" id="__nav_15_1_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_15_1_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_15_1_9">
            <span class="md-nav__icon md-icon"></span>
            signals
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../signals/signal/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    signal
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../warnings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    warnings
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key" class="md-nav__link">
    <span class="md-ellipsis">
      foreign_key
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.ForeignKeyConstraint" class="md-nav__link">
    <span class="md-ellipsis">
      ForeignKeyConstraint
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.ForeignKeyField" class="md-nav__link">
    <span class="md-ellipsis">
      ForeignKeyField
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ForeignKeyField">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.ForeignKeyField.default_source_field_name" class="md-nav__link">
    <span class="md-ellipsis">
      default_source_field_name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.ForeignKeyField.default_target_field_name" class="md-nav__link">
    <span class="md-ellipsis">
      default_target_field_name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.ForeignKeyField.evaluate_forward_ref" class="md-nav__link">
    <span class="md-ellipsis">
      evaluate_forward_ref
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.ForeignKeyField.expand_relationship" class="md-nav__link">
    <span class="md-ellipsis">
      expand_relationship
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.ForeignKeyField.get_model_relation_fields" class="md-nav__link">
    <span class="md-ellipsis">
      get_model_relation_fields
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.ForeignKeyField.get_related_field_alias" class="md-nav__link">
    <span class="md-ellipsis">
      get_related_field_alias
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.ForeignKeyField.get_related_field_name" class="md-nav__link">
    <span class="md-ellipsis">
      get_related_field_name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.ForeignKeyField.get_related_name" class="md-nav__link">
    <span class="md-ellipsis">
      get_related_name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.ForeignKeyField.get_relation_name" class="md-nav__link">
    <span class="md-ellipsis">
      get_relation_name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.ForeignKeyField.get_source_model" class="md-nav__link">
    <span class="md-ellipsis">
      get_source_model
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.ForeignKeyField.get_source_related_name" class="md-nav__link">
    <span class="md-ellipsis">
      get_source_related_name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.ForeignKeyField.has_unresolved_forward_refs" class="md-nav__link">
    <span class="md-ellipsis">
      has_unresolved_forward_refs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.ForeignKeyField.register_relation" class="md-nav__link">
    <span class="md-ellipsis">
      register_relation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.ForeignKey" class="md-nav__link">
    <span class="md-ellipsis">
      ForeignKey
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.create_dummy_instance" class="md-nav__link">
    <span class="md-ellipsis">
      create_dummy_instance
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.create_dummy_model" class="md-nav__link">
    <span class="md-ellipsis">
      create_dummy_model
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.populate_fk_params_based_on_to_model" class="md-nav__link">
    <span class="md-ellipsis">
      populate_fk_params_based_on_to_model
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.validate_not_allowed_fields" class="md-nav__link">
    <span class="md-ellipsis">
      validate_not_allowed_fields
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ormar.fields.foreign_key.validate_referential_action" class="md-nav__link">
    <span class="md-ellipsis">
      validate_referential_action
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>foreign_key</h1>

<div class="doc doc-object doc-module">



<a id="ormar.fields.foreign_key"></a>
    <div class="doc doc-contents first">










<div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="ormar.fields.foreign_key.ForeignKeyConstraint" class="doc doc-heading">
            <code>ForeignKeyConstraint</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">



        <p>Internal container to store ForeignKey definitions used later
to produce sqlalchemy.ForeignKeys</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>ormar/fields/foreign_key.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">ForeignKeyConstraint</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Internal container to store ForeignKey definitions used later</span>
<span class="sd">    to produce sqlalchemy.ForeignKeys</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">reference</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">sqlalchemy</span><span class="o">.</span><span class="n">Column</span><span class="p">]</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">ondelete</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">onupdate</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ormar.fields.foreign_key.ForeignKeyField" class="doc doc-heading">
            <code>ForeignKeyField</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="BaseField (ormar.fields.base.BaseField)" href="../base/#ormar.fields.base.BaseField">BaseField</a></code></p>



        <p>Actual class returned from ForeignKey function call and stored in model_fields.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>ormar/fields/foreign_key.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ForeignKeyField</span><span class="p">(</span><span class="n">BaseField</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Actual class returned from ForeignKey function call and stored in model_fields.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">TYPE_CHECKING</span><span class="p">:</span>  <span class="c1"># pragma: no cover</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__type__</span><span class="p">:</span> <span class="nb">type</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">to</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;Model&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ondelete</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;ondelete&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">onupdate</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;onupdate&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_source_related_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns name to use for source relation name.</span>
<span class="sd">        For FK it&#39;s the same, differs for m2m fields.</span>
<span class="sd">        It&#39;s either set as `related_name` or by default it&#39;s owner model. get_name + &#39;s&#39;</span>
<span class="sd">        :return: name of the related_name or default related name.</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_related_name</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_related_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns name to use for reverse relation.</span>
<span class="sd">        It&#39;s either set as `related_name` or by default it&#39;s owner model. get_name + &#39;s&#39;</span>
<span class="sd">        :return: name of the related_name or default related name.</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">related_name</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">owner</span><span class="o">.</span><span class="n">get_name</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;s&quot;</span>

    <span class="k">def</span> <span class="nf">default_target_field_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns default target model name on through model.</span>
<span class="sd">        :return: name of the field</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">prefix</span> <span class="o">=</span> <span class="s2">&quot;from_&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">self_reference</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">through_reverse_relation_name</span> <span class="ow">or</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">prefix</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">to</span><span class="o">.</span><span class="n">get_name</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span> <span class="nf">default_source_field_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns default target model name on through model.</span>
<span class="sd">        :return: name of the field</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">prefix</span> <span class="o">=</span> <span class="s2">&quot;to_&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">self_reference</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">through_relation_name</span> <span class="ow">or</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">prefix</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">owner</span><span class="o">.</span><span class="n">get_name</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span> <span class="nf">get_filter_clause_target</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;Model&quot;</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">to</span>

    <span class="k">def</span> <span class="nf">get_model_relation_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">use_alias</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Extract names of the database columns or model fields that are connected</span>
<span class="sd">        with given relation based on use_alias switch and which side of the relation</span>
<span class="sd">        the current field is - reverse or normal.</span>

<span class="sd">        :param use_alias: use db names aliases or model fields</span>
<span class="sd">        :type use_alias: bool</span>
<span class="sd">        :return: name or names of the related columns/ fields</span>
<span class="sd">        :rtype: Union[str, List[str]]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">use_alias</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_model_relation_fields_alias</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_model_relation_fields_name</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_get_model_relation_fields_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">virtual</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">owner</span><span class="o">.</span><span class="n">ormar_config</span><span class="o">.</span><span class="n">pkname</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>

    <span class="k">def</span> <span class="nf">_get_model_relation_fields_alias</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">virtual</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">owner</span><span class="o">.</span><span class="n">ormar_config</span><span class="o">.</span><span class="n">model_fields</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">owner</span><span class="o">.</span><span class="n">ormar_config</span><span class="o">.</span><span class="n">pkname</span>
            <span class="p">]</span><span class="o">.</span><span class="n">get_alias</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_alias</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_related_field_alias</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Extract names of the related database columns or that are connected</span>
<span class="sd">        with given relation based to use as a target in filter clause.</span>

<span class="sd">        :return: name or names of the related columns/ fields</span>
<span class="sd">        :rtype: Union[str, Dict[str, str]]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">virtual</span><span class="p">:</span>
            <span class="n">field_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_related_name</span><span class="p">()</span>
            <span class="n">field</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to</span><span class="o">.</span><span class="n">ormar_config</span><span class="o">.</span><span class="n">model_fields</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>
            <span class="k">return</span> <span class="n">field</span><span class="o">.</span><span class="n">get_alias</span><span class="p">()</span>
        <span class="n">target_field</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to</span><span class="o">.</span><span class="n">get_column_alias</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">to</span><span class="o">.</span><span class="n">ormar_config</span><span class="o">.</span><span class="n">pkname</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">target_field</span>

    <span class="k">def</span> <span class="nf">get_related_field_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns name of the relation field that should be used in prefetch query.</span>
<span class="sd">        This field is later used to register relation in prefetch query,</span>
<span class="sd">        populate relations dict, and populate nested model in prefetch query.</span>

<span class="sd">        :return: name(s) of the field</span>
<span class="sd">        :rtype: Union[str, List[str]]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">virtual</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_related_name</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">to</span><span class="o">.</span><span class="n">ormar_config</span><span class="o">.</span><span class="n">pkname</span>

    <span class="k">def</span> <span class="nf">_evaluate_forward_ref</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">globalns</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">localns</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">is_through</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">target</span> <span class="o">=</span> <span class="s2">&quot;through&quot;</span> <span class="k">if</span> <span class="n">is_through</span> <span class="k">else</span> <span class="s2">&quot;to&quot;</span>
        <span class="n">target_obj</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span><span class="o">.</span><span class="n">minor</span> <span class="o">&lt;=</span> <span class="mi">8</span><span class="p">:</span>  <span class="c1"># pragma: no cover</span>
            <span class="n">evaluated</span> <span class="o">=</span> <span class="n">target_obj</span><span class="o">.</span><span class="n">_evaluate</span><span class="p">(</span><span class="n">globalns</span><span class="p">,</span> <span class="n">localns</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># pragma: no cover</span>
            <span class="n">evaluated</span> <span class="o">=</span> <span class="n">target_obj</span><span class="o">.</span><span class="n">_evaluate</span><span class="p">(</span><span class="n">globalns</span><span class="p">,</span> <span class="n">localns</span><span class="p">,</span> <span class="n">recursive_guard</span><span class="o">=</span><span class="nb">set</span><span class="p">())</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">evaluated</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">evaluate_forward_ref</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">globalns</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">localns</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Evaluates the ForwardRef to actual Field based on global and local namespaces</span>

<span class="sd">        :param globalns: global namespace</span>
<span class="sd">        :type globalns: Any</span>
<span class="sd">        :param localns: local namespace</span>
<span class="sd">        :type localns: Any</span>
<span class="sd">        :return: None</span>
<span class="sd">        :rtype: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">to</span><span class="o">.</span><span class="vm">__class__</span> <span class="o">==</span> <span class="n">ForwardRef</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_evaluate_forward_ref</span><span class="p">(</span><span class="n">globalns</span><span class="p">,</span> <span class="n">localns</span><span class="p">)</span>
            <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__type__</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">constraints</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">column_type</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">to_pk_only</span><span class="p">,</span>
            <span class="p">)</span> <span class="o">=</span> <span class="n">populate_fk_params_based_on_to_model</span><span class="p">(</span>
                <span class="n">to</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">to</span><span class="p">,</span>
                <span class="n">nullable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nullable</span><span class="p">,</span>
                <span class="n">ondelete</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ondelete</span><span class="p">,</span>
                <span class="n">onupdate</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">onupdate</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_extract_model_from_sequence</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">List</span><span class="p">,</span> <span class="n">child</span><span class="p">:</span> <span class="s2">&quot;Model&quot;</span><span class="p">,</span> <span class="n">to_register</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;Model&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Takes a list of Models and registers them on parent.</span>
<span class="sd">        Registration is mutual, so children have also reference to parent.</span>

<span class="sd">        Used in reverse FK relations.</span>

<span class="sd">        :param value: list of Model</span>
<span class="sd">        :type value: List</span>
<span class="sd">        :param child: child/ related Model</span>
<span class="sd">        :type child: Model</span>
<span class="sd">        :param to_register: flag if the relation should be set in RelationshipManager</span>
<span class="sd">        :type to_register: bool</span>
<span class="sd">        :return: list (if needed) registered Models</span>
<span class="sd">        :rtype: List[&quot;Model&quot;]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">expand_relationship</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
                <span class="n">value</span><span class="o">=</span><span class="n">val</span><span class="p">,</span> <span class="n">child</span><span class="o">=</span><span class="n">child</span><span class="p">,</span> <span class="n">to_register</span><span class="o">=</span><span class="n">to_register</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">value</span>
        <span class="p">]</span>

    <span class="k">def</span> <span class="nf">_register_existing_model</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="s2">&quot;Model&quot;</span><span class="p">,</span> <span class="n">child</span><span class="p">:</span> <span class="s2">&quot;Model&quot;</span><span class="p">,</span> <span class="n">to_register</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Model&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Takes already created instance and registers it for parent.</span>
<span class="sd">        Registration is mutual, so children have also reference to parent.</span>

<span class="sd">        Used in reverse FK relations and normal FK for single models.</span>

<span class="sd">        :param value: already instantiated Model</span>
<span class="sd">        :type value: Model</span>
<span class="sd">        :param child: child/ related Model</span>
<span class="sd">        :type child: Model</span>
<span class="sd">        :param to_register: flag if the relation should be set in RelationshipManager</span>
<span class="sd">        :type to_register: bool</span>
<span class="sd">        :return: (if needed) registered Model</span>
<span class="sd">        :rtype: Model</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">to_register</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">register_relation</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="n">value</span><span class="p">,</span> <span class="n">child</span><span class="o">=</span><span class="n">child</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">_construct_model_from_dict</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">child</span><span class="p">:</span> <span class="s2">&quot;Model&quot;</span><span class="p">,</span> <span class="n">to_register</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Model&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Takes a dictionary, creates a instance and registers it for parent.</span>
<span class="sd">        If dictionary contains only one field and it&#39;s a pk it is a __pk_only__ model.</span>
<span class="sd">        Registration is mutual, so children have also reference to parent.</span>

<span class="sd">        Used in normal FK for dictionaries.</span>

<span class="sd">        :param value: dictionary of a Model</span>
<span class="sd">        :type value: dict</span>
<span class="sd">        :param child: child/ related Model</span>
<span class="sd">        :type child: Model</span>
<span class="sd">        :param to_register: flag if the relation should be set in RelationshipManager</span>
<span class="sd">        :type to_register: bool</span>
<span class="sd">        :return: (if needed) registered Model</span>
<span class="sd">        :rtype: Model</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">pk_only_model</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">keys</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="n">own_keys</span> <span class="o">=</span> <span class="n">keys</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">to</span><span class="o">.</span><span class="n">extract_related_names</span><span class="p">()</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="nb">len</span><span class="p">(</span><span class="n">own_keys</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
            <span class="ow">and</span> <span class="nb">list</span><span class="p">(</span><span class="n">own_keys</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">to</span><span class="o">.</span><span class="n">ormar_config</span><span class="o">.</span><span class="n">pkname</span>
            <span class="ow">and</span> <span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">to</span><span class="o">.</span><span class="n">ormar_config</span><span class="o">.</span><span class="n">pkname</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_through</span>
        <span class="p">):</span>
            <span class="n">value</span><span class="p">[</span><span class="s2">&quot;__pk_only__&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">pk_only_model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_pk_only</span><span class="p">(</span><span class="o">**</span><span class="n">value</span><span class="p">)</span>
        <span class="n">model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="o">**</span><span class="n">value</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">to_register</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">register_relation</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span> <span class="n">child</span><span class="o">=</span><span class="n">child</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">pk_only_model</span> <span class="k">if</span> <span class="n">pk_only_model</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">model</span>

    <span class="k">def</span> <span class="nf">_construct_model_from_pk</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">child</span><span class="p">:</span> <span class="s2">&quot;Model&quot;</span><span class="p">,</span> <span class="n">to_register</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Model&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Takes a pk value, creates a dummy instance and registers it for parent.</span>
<span class="sd">        Registration is mutual, so children have also reference to parent.</span>

<span class="sd">        Used in normal FK for dictionaries.</span>

<span class="sd">        :param value: value of a related pk / fk column</span>
<span class="sd">        :type value: Any</span>
<span class="sd">        :param child: child/ related Model</span>
<span class="sd">        :type child: Model</span>
<span class="sd">        :param to_register: flag if the relation should be set in RelationshipManager</span>
<span class="sd">        :type to_register: bool</span>
<span class="sd">        :return: (if needed) registered Model</span>
<span class="sd">        :rtype: Model</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">to</span><span class="o">.</span><span class="n">pk_type</span><span class="p">()</span> <span class="o">==</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>  <span class="c1"># pragma: nocover</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">to</span><span class="o">.</span><span class="n">pk_type</span><span class="p">()):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_pk_only</span><span class="p">):</span>
                <span class="n">value</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">to</span><span class="o">.</span><span class="n">ormar_config</span><span class="o">.</span><span class="n">pkname</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">RelationshipInstanceError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Relationship error - ForeignKey </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">to</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;is of type </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">to</span><span class="o">.</span><span class="n">pk_type</span><span class="p">()</span><span class="si">}</span><span class="s2"> &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;while </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="si">}</span><span class="s2"> passed as a parameter.&quot;</span>
                <span class="p">)</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">create_dummy_instance</span><span class="p">(</span><span class="n">fk</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">to</span><span class="p">,</span> <span class="n">pk</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">to_register</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">register_relation</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span> <span class="n">child</span><span class="o">=</span><span class="n">child</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">model</span>

    <span class="k">def</span> <span class="nf">register_relation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="s2">&quot;Model&quot;</span><span class="p">,</span> <span class="n">child</span><span class="p">:</span> <span class="s2">&quot;Model&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Registers relation between parent and child in relation manager.</span>
<span class="sd">        Relation manager is kep on each model (different instance).</span>

<span class="sd">        Used in Metaclass and sometimes some relations are missing</span>
<span class="sd">        (i.e. cloned Models in fastapi might miss one).</span>

<span class="sd">        :param model: parent model (with relation definition)</span>
<span class="sd">        :type model: Model class</span>
<span class="sd">        :param child: child model</span>
<span class="sd">        :type child: Model class</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">model</span><span class="o">.</span><span class="n">_orm</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">model</span><span class="p">,</span> <span class="n">child</span><span class="o">=</span><span class="n">child</span><span class="p">,</span> <span class="n">field</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">has_unresolved_forward_refs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Verifies if the filed has any ForwardRefs that require updating before the</span>
<span class="sd">        model can be used.</span>

<span class="sd">        :return: result of the check</span>
<span class="sd">        :rtype: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">to</span><span class="o">.</span><span class="vm">__class__</span> <span class="o">==</span> <span class="n">ForwardRef</span>

    <span class="k">def</span> <span class="nf">expand_relationship</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="n">child</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;Model&quot;</span><span class="p">,</span> <span class="s2">&quot;NewBaseModel&quot;</span><span class="p">],</span>
        <span class="n">to_register</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="s2">&quot;Model&quot;</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;Model&quot;</span><span class="p">]]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        For relations the child model is first constructed (if needed),</span>
<span class="sd">        registered in relation and returned.</span>
<span class="sd">        For relation fields the value can be a pk value (Any type of field),</span>
<span class="sd">        dict (from Model) or actual instance/list of a &quot;Model&quot;.</span>

<span class="sd">        Selects the appropriate constructor based on a passed value.</span>

<span class="sd">        :param value: a Model field value, returned untouched for non relation fields.</span>
<span class="sd">        :type value: Any</span>
<span class="sd">        :param child: a child Model to register</span>
<span class="sd">        :type child: Union[&quot;Model&quot;, &quot;NewBaseModel&quot;]</span>
<span class="sd">        :param to_register: flag if the relation should be set in RelationshipManager</span>
<span class="sd">        :type to_register: bool</span>
<span class="sd">        :return: returns a Model or a list of Models</span>
<span class="sd">        :rtype: Optional[Union[&quot;Model&quot;, List[&quot;Model&quot;]]]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span> <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">virtual</span> <span class="k">else</span> <span class="p">[]</span>
        <span class="n">constructors</span> <span class="o">=</span> <span class="p">{</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">to</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_register_existing_model</span><span class="p">,</span>
            <span class="s2">&quot;dict&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_construct_model_from_dict</span><span class="p">,</span>
            <span class="s2">&quot;list&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_extract_model_from_sequence</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">model</span> <span class="o">=</span> <span class="n">constructors</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
            <span class="n">value</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_construct_model_from_pk</span>
        <span class="p">)(</span><span class="n">value</span><span class="p">,</span> <span class="n">child</span><span class="p">,</span> <span class="n">to_register</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">model</span>

    <span class="k">def</span> <span class="nf">get_relation_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>  <span class="c1"># pragma: no cover</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns name of the relation, which can be a own name or through model</span>
<span class="sd">        names for m2m models</span>

<span class="sd">        :return: result of the check</span>
<span class="sd">        :rtype: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>

    <span class="k">def</span> <span class="nf">get_source_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;Model&quot;</span><span class="p">]:</span>  <span class="c1"># pragma: no cover</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns model from which the relation comes -&gt; either owner or through model</span>

<span class="sd">        :return: source model</span>
<span class="sd">        :rtype: Type[&quot;Model&quot;]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">owner</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="ormar.fields.foreign_key.ForeignKeyField.default_source_field_name" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">default_source_field_name</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns default target model name on through model.
:return: name of the field
:rtype: str</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>ormar/fields/foreign_key.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">default_source_field_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns default target model name on through model.</span>
<span class="sd">    :return: name of the field</span>
<span class="sd">    :rtype: str</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">prefix</span> <span class="o">=</span> <span class="s2">&quot;to_&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">self_reference</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">through_relation_name</span> <span class="ow">or</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">prefix</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">owner</span><span class="o">.</span><span class="n">get_name</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ormar.fields.foreign_key.ForeignKeyField.default_target_field_name" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">default_target_field_name</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns default target model name on through model.
:return: name of the field
:rtype: str</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>ormar/fields/foreign_key.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">default_target_field_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns default target model name on through model.</span>
<span class="sd">    :return: name of the field</span>
<span class="sd">    :rtype: str</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">prefix</span> <span class="o">=</span> <span class="s2">&quot;from_&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">self_reference</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">through_reverse_relation_name</span> <span class="ow">or</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">prefix</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">to</span><span class="o">.</span><span class="n">get_name</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ormar.fields.foreign_key.ForeignKeyField.evaluate_forward_ref" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">evaluate_forward_ref</span><span class="p">(</span><span class="n">globalns</span><span class="p">,</span> <span class="n">localns</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Evaluates the ForwardRef to actual Field based on global and local namespaces</p>
<p>:param globalns: global namespace
:type globalns: Any
:param localns: local namespace
:type localns: Any
:return: None
:rtype: None</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>ormar/fields/foreign_key.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">evaluate_forward_ref</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">globalns</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">localns</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Evaluates the ForwardRef to actual Field based on global and local namespaces</span>

<span class="sd">    :param globalns: global namespace</span>
<span class="sd">    :type globalns: Any</span>
<span class="sd">    :param localns: local namespace</span>
<span class="sd">    :type localns: Any</span>
<span class="sd">    :return: None</span>
<span class="sd">    :rtype: None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">to</span><span class="o">.</span><span class="vm">__class__</span> <span class="o">==</span> <span class="n">ForwardRef</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_evaluate_forward_ref</span><span class="p">(</span><span class="n">globalns</span><span class="p">,</span> <span class="n">localns</span><span class="p">)</span>
        <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__type__</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">constraints</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">column_type</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">to_pk_only</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">=</span> <span class="n">populate_fk_params_based_on_to_model</span><span class="p">(</span>
            <span class="n">to</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">to</span><span class="p">,</span>
            <span class="n">nullable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nullable</span><span class="p">,</span>
            <span class="n">ondelete</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ondelete</span><span class="p">,</span>
            <span class="n">onupdate</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">onupdate</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ormar.fields.foreign_key.ForeignKeyField.expand_relationship" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">expand_relationship</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">child</span><span class="p">,</span> <span class="n">to_register</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>For relations the child model is first constructed (if needed),
registered in relation and returned.
For relation fields the value can be a pk value (Any type of field),
dict (from Model) or actual instance/list of a "Model".</p>
<p>Selects the appropriate constructor based on a passed value.</p>
<p>:param value: a Model field value, returned untouched for non relation fields.
:type value: Any
:param child: a child Model to register
:type child: Union["Model", "NewBaseModel"]
:param to_register: flag if the relation should be set in RelationshipManager
:type to_register: bool
:return: returns a Model or a list of Models
:rtype: Optional[Union["Model", List["Model"]]]</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>ormar/fields/foreign_key.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">expand_relationship</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="n">child</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;Model&quot;</span><span class="p">,</span> <span class="s2">&quot;NewBaseModel&quot;</span><span class="p">],</span>
    <span class="n">to_register</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="s2">&quot;Model&quot;</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;Model&quot;</span><span class="p">]]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    For relations the child model is first constructed (if needed),</span>
<span class="sd">    registered in relation and returned.</span>
<span class="sd">    For relation fields the value can be a pk value (Any type of field),</span>
<span class="sd">    dict (from Model) or actual instance/list of a &quot;Model&quot;.</span>

<span class="sd">    Selects the appropriate constructor based on a passed value.</span>

<span class="sd">    :param value: a Model field value, returned untouched for non relation fields.</span>
<span class="sd">    :type value: Any</span>
<span class="sd">    :param child: a child Model to register</span>
<span class="sd">    :type child: Union[&quot;Model&quot;, &quot;NewBaseModel&quot;]</span>
<span class="sd">    :param to_register: flag if the relation should be set in RelationshipManager</span>
<span class="sd">    :type to_register: bool</span>
<span class="sd">    :return: returns a Model or a list of Models</span>
<span class="sd">    :rtype: Optional[Union[&quot;Model&quot;, List[&quot;Model&quot;]]]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span> <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">virtual</span> <span class="k">else</span> <span class="p">[]</span>
    <span class="n">constructors</span> <span class="o">=</span> <span class="p">{</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">to</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_register_existing_model</span><span class="p">,</span>
        <span class="s2">&quot;dict&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_construct_model_from_dict</span><span class="p">,</span>
        <span class="s2">&quot;list&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_extract_model_from_sequence</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="n">model</span> <span class="o">=</span> <span class="n">constructors</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
        <span class="n">value</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_construct_model_from_pk</span>
    <span class="p">)(</span><span class="n">value</span><span class="p">,</span> <span class="n">child</span><span class="p">,</span> <span class="n">to_register</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">model</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ormar.fields.foreign_key.ForeignKeyField.get_model_relation_fields" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_model_relation_fields</span><span class="p">(</span><span class="n">use_alias</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Extract names of the database columns or model fields that are connected
with given relation based on use_alias switch and which side of the relation
the current field is - reverse or normal.</p>
<p>:param use_alias: use db names aliases or model fields
:type use_alias: bool
:return: name or names of the related columns/ fields
:rtype: Union[str, List[str]]</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>ormar/fields/foreign_key.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_model_relation_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">use_alias</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Extract names of the database columns or model fields that are connected</span>
<span class="sd">    with given relation based on use_alias switch and which side of the relation</span>
<span class="sd">    the current field is - reverse or normal.</span>

<span class="sd">    :param use_alias: use db names aliases or model fields</span>
<span class="sd">    :type use_alias: bool</span>
<span class="sd">    :return: name or names of the related columns/ fields</span>
<span class="sd">    :rtype: Union[str, List[str]]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">use_alias</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_model_relation_fields_alias</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_model_relation_fields_name</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ormar.fields.foreign_key.ForeignKeyField.get_related_field_alias" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_related_field_alias</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Extract names of the related database columns or that are connected
with given relation based to use as a target in filter clause.</p>
<p>:return: name or names of the related columns/ fields
:rtype: Union[str, Dict[str, str]]</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>ormar/fields/foreign_key.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_related_field_alias</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Extract names of the related database columns or that are connected</span>
<span class="sd">    with given relation based to use as a target in filter clause.</span>

<span class="sd">    :return: name or names of the related columns/ fields</span>
<span class="sd">    :rtype: Union[str, Dict[str, str]]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">virtual</span><span class="p">:</span>
        <span class="n">field_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_related_name</span><span class="p">()</span>
        <span class="n">field</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to</span><span class="o">.</span><span class="n">ormar_config</span><span class="o">.</span><span class="n">model_fields</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">field</span><span class="o">.</span><span class="n">get_alias</span><span class="p">()</span>
    <span class="n">target_field</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to</span><span class="o">.</span><span class="n">get_column_alias</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">to</span><span class="o">.</span><span class="n">ormar_config</span><span class="o">.</span><span class="n">pkname</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">target_field</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ormar.fields.foreign_key.ForeignKeyField.get_related_field_name" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_related_field_name</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns name of the relation field that should be used in prefetch query.
This field is later used to register relation in prefetch query,
populate relations dict, and populate nested model in prefetch query.</p>
<p>:return: name(s) of the field
:rtype: Union[str, List[str]]</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>ormar/fields/foreign_key.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_related_field_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns name of the relation field that should be used in prefetch query.</span>
<span class="sd">    This field is later used to register relation in prefetch query,</span>
<span class="sd">    populate relations dict, and populate nested model in prefetch query.</span>

<span class="sd">    :return: name(s) of the field</span>
<span class="sd">    :rtype: Union[str, List[str]]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">virtual</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_related_name</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">to</span><span class="o">.</span><span class="n">ormar_config</span><span class="o">.</span><span class="n">pkname</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ormar.fields.foreign_key.ForeignKeyField.get_related_name" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_related_name</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns name to use for reverse relation.
It's either set as <code>related_name</code> or by default it's owner model. get_name + 's'
:return: name of the related_name or default related name.
:rtype: str</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>ormar/fields/foreign_key.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_related_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns name to use for reverse relation.</span>
<span class="sd">    It&#39;s either set as `related_name` or by default it&#39;s owner model. get_name + &#39;s&#39;</span>
<span class="sd">    :return: name of the related_name or default related name.</span>
<span class="sd">    :rtype: str</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">related_name</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">owner</span><span class="o">.</span><span class="n">get_name</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;s&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ormar.fields.foreign_key.ForeignKeyField.get_relation_name" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_relation_name</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns name of the relation, which can be a own name or through model
names for m2m models</p>
<p>:return: result of the check
:rtype: bool</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>ormar/fields/foreign_key.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_relation_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>  <span class="c1"># pragma: no cover</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns name of the relation, which can be a own name or through model</span>
<span class="sd">    names for m2m models</span>

<span class="sd">    :return: result of the check</span>
<span class="sd">    :rtype: bool</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ormar.fields.foreign_key.ForeignKeyField.get_source_model" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_source_model</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns model from which the relation comes -&gt; either owner or through model</p>
<p>:return: source model
:rtype: Type["Model"]</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>ormar/fields/foreign_key.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_source_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;Model&quot;</span><span class="p">]:</span>  <span class="c1"># pragma: no cover</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns model from which the relation comes -&gt; either owner or through model</span>

<span class="sd">    :return: source model</span>
<span class="sd">    :rtype: Type[&quot;Model&quot;]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">owner</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ormar.fields.foreign_key.ForeignKeyField.get_source_related_name" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_source_related_name</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns name to use for source relation name.
For FK it's the same, differs for m2m fields.
It's either set as <code>related_name</code> or by default it's owner model. get_name + 's'
:return: name of the related_name or default related name.
:rtype: str</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>ormar/fields/foreign_key.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_source_related_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns name to use for source relation name.</span>
<span class="sd">    For FK it&#39;s the same, differs for m2m fields.</span>
<span class="sd">    It&#39;s either set as `related_name` or by default it&#39;s owner model. get_name + &#39;s&#39;</span>
<span class="sd">    :return: name of the related_name or default related name.</span>
<span class="sd">    :rtype: str</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_related_name</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ormar.fields.foreign_key.ForeignKeyField.has_unresolved_forward_refs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">has_unresolved_forward_refs</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Verifies if the filed has any ForwardRefs that require updating before the
model can be used.</p>
<p>:return: result of the check
:rtype: bool</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>ormar/fields/foreign_key.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">has_unresolved_forward_refs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Verifies if the filed has any ForwardRefs that require updating before the</span>
<span class="sd">    model can be used.</span>

<span class="sd">    :return: result of the check</span>
<span class="sd">    :rtype: bool</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">to</span><span class="o">.</span><span class="vm">__class__</span> <span class="o">==</span> <span class="n">ForwardRef</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ormar.fields.foreign_key.ForeignKeyField.register_relation" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">register_relation</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">child</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Registers relation between parent and child in relation manager.
Relation manager is kep on each model (different instance).</p>
<p>Used in Metaclass and sometimes some relations are missing
(i.e. cloned Models in fastapi might miss one).</p>
<p>:param model: parent model (with relation definition)
:type model: Model class
:param child: child model
:type child: Model class</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>ormar/fields/foreign_key.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">register_relation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="s2">&quot;Model&quot;</span><span class="p">,</span> <span class="n">child</span><span class="p">:</span> <span class="s2">&quot;Model&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Registers relation between parent and child in relation manager.</span>
<span class="sd">    Relation manager is kep on each model (different instance).</span>

<span class="sd">    Used in Metaclass and sometimes some relations are missing</span>
<span class="sd">    (i.e. cloned Models in fastapi might miss one).</span>

<span class="sd">    :param model: parent model (with relation definition)</span>
<span class="sd">    :type model: Model class</span>
<span class="sd">    :param child: child model</span>
<span class="sd">    :type child: Model class</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">model</span><span class="o">.</span><span class="n">_orm</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">model</span><span class="p">,</span> <span class="n">child</span><span class="o">=</span><span class="n">child</span><span class="p">,</span> <span class="n">field</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h2 id="ormar.fields.foreign_key.ForeignKey" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">ForeignKey</span><span class="p">(</span><span class="n">to</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">virtual</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">onupdate</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ondelete</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h2>
          <div class="doc-overloads">
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">ForeignKey</span><span class="p">(</span><span class="n">to</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">T</span><span class="p">],</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span>
</code></pre></div><div class="doc-signature highlight"><pre><span></span><code><span class="nf">ForeignKey</span><span class="p">(</span><span class="n">to</span><span class="p">:</span> <span class="n">ForwardRef</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Model</span>
</code></pre></div>          </div>


    <div class="doc doc-contents ">

        <p>Despite a name it's a function that returns constructed ForeignKeyField.
This function is actually used in model declaration (as ormar.ForeignKey(ToModel)).</p>
<p>Accepts number of relation setting parameters as well as all BaseField ones.</p>
<p>:param to: target related ormar Model
:type to: Model class
:param name: name of the database field - later called alias
:type name: str
:param unique: parameter passed to sqlalchemy.ForeignKey, unique flag
:type unique: bool
:param nullable: marks field as optional/ required
:type nullable: bool
:param related_name: name of reversed FK relation populated for you on to model
:type related_name: str
:param virtual: marks if relation is virtual.
It is for reversed FK and auto generated FK on through model in Many2Many relations.
:type virtual: bool
:param onupdate: parameter passed to sqlalchemy.ForeignKey.
How to treat child rows on update of parent (the one where FK is defined) model.
:type onupdate: Union[ReferentialAction, str]
:param ondelete: parameter passed to sqlalchemy.ForeignKey.
How to treat child rows on delete of parent (the one where FK is defined) model.
:type ondelete: Union[ReferentialAction, str]
:param kwargs: all other args to be populated by BaseField
:type kwargs: Any
:return: ormar ForeignKeyField with relation to selected model
:rtype: ForeignKeyField</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>ormar/fields/foreign_key.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">ForeignKey</span><span class="p">(</span>  <span class="c1"># type: ignore # noqa CFQ002</span>
    <span class="n">to</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="s2">&quot;T&quot;</span><span class="p">],</span> <span class="s2">&quot;ForwardRef&quot;</span><span class="p">],</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">unique</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">nullable</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">related_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">virtual</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">onupdate</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">ReferentialAction</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">ondelete</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">ReferentialAction</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;T&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Despite a name it&#39;s a function that returns constructed ForeignKeyField.</span>
<span class="sd">    This function is actually used in model declaration (as ormar.ForeignKey(ToModel)).</span>

<span class="sd">    Accepts number of relation setting parameters as well as all BaseField ones.</span>

<span class="sd">    :param to: target related ormar Model</span>
<span class="sd">    :type to: Model class</span>
<span class="sd">    :param name: name of the database field - later called alias</span>
<span class="sd">    :type name: str</span>
<span class="sd">    :param unique: parameter passed to sqlalchemy.ForeignKey, unique flag</span>
<span class="sd">    :type unique: bool</span>
<span class="sd">    :param nullable: marks field as optional/ required</span>
<span class="sd">    :type nullable: bool</span>
<span class="sd">    :param related_name: name of reversed FK relation populated for you on to model</span>
<span class="sd">    :type related_name: str</span>
<span class="sd">    :param virtual: marks if relation is virtual.</span>
<span class="sd">    It is for reversed FK and auto generated FK on through model in Many2Many relations.</span>
<span class="sd">    :type virtual: bool</span>
<span class="sd">    :param onupdate: parameter passed to sqlalchemy.ForeignKey.</span>
<span class="sd">    How to treat child rows on update of parent (the one where FK is defined) model.</span>
<span class="sd">    :type onupdate: Union[ReferentialAction, str]</span>
<span class="sd">    :param ondelete: parameter passed to sqlalchemy.ForeignKey.</span>
<span class="sd">    How to treat child rows on delete of parent (the one where FK is defined) model.</span>
<span class="sd">    :type ondelete: Union[ReferentialAction, str]</span>
<span class="sd">    :param kwargs: all other args to be populated by BaseField</span>
<span class="sd">    :type kwargs: Any</span>
<span class="sd">    :return: ormar ForeignKeyField with relation to selected model</span>
<span class="sd">    :rtype: ForeignKeyField</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">onupdate</span> <span class="o">=</span> <span class="n">validate_referential_action</span><span class="p">(</span><span class="n">action</span><span class="o">=</span><span class="n">onupdate</span><span class="p">)</span>
    <span class="n">ondelete</span> <span class="o">=</span> <span class="n">validate_referential_action</span><span class="p">(</span><span class="n">action</span><span class="o">=</span><span class="n">ondelete</span><span class="p">)</span>

    <span class="n">owner</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;owner&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">self_reference</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;self_reference&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

    <span class="n">orders_by</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;orders_by&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">related_orders_by</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;related_orders_by&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

    <span class="n">skip_reverse</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;skip_reverse&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">skip_field</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;skip_field&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

    <span class="n">sql_nullable</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;sql_nullable&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">sql_nullable</span> <span class="o">=</span> <span class="n">nullable</span> <span class="k">if</span> <span class="n">sql_nullable</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">sql_nullable</span>

    <span class="n">index</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;index&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

    <span class="n">validate_not_allowed_fields</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">pk_only_model</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">to</span><span class="o">.</span><span class="vm">__class__</span> <span class="o">==</span> <span class="n">ForwardRef</span><span class="p">:</span>
        <span class="n">__type__</span> <span class="o">=</span> <span class="n">to</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">nullable</span> <span class="k">else</span> <span class="n">Optional</span><span class="p">[</span><span class="n">to</span><span class="p">]</span>
        <span class="n">constraints</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">column_type</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="p">(</span>
            <span class="n">__type__</span><span class="p">,</span>
            <span class="n">constraints</span><span class="p">,</span>
            <span class="n">column_type</span><span class="p">,</span>
            <span class="n">pk_only_model</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">=</span> <span class="n">populate_fk_params_based_on_to_model</span><span class="p">(</span>
            <span class="n">to</span><span class="o">=</span><span class="n">to</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
            <span class="n">nullable</span><span class="o">=</span><span class="n">nullable</span><span class="p">,</span>
            <span class="n">ondelete</span><span class="o">=</span><span class="n">ondelete</span><span class="p">,</span>
            <span class="n">onupdate</span><span class="o">=</span><span class="n">onupdate</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="n">namespace</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="n">__type__</span><span class="o">=</span><span class="n">__type__</span><span class="p">,</span>
        <span class="n">to</span><span class="o">=</span><span class="n">to</span><span class="p">,</span>
        <span class="n">to_pk_only</span><span class="o">=</span><span class="n">pk_only_model</span><span class="p">,</span>
        <span class="n">through</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">alias</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;real_name&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
        <span class="n">nullable</span><span class="o">=</span><span class="n">nullable</span><span class="p">,</span>
        <span class="n">sql_nullable</span><span class="o">=</span><span class="n">sql_nullable</span><span class="p">,</span>
        <span class="n">constraints</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
        <span class="n">unique</span><span class="o">=</span><span class="n">unique</span><span class="p">,</span>
        <span class="n">column_type</span><span class="o">=</span><span class="n">column_type</span><span class="p">,</span>
        <span class="n">related_name</span><span class="o">=</span><span class="n">related_name</span><span class="p">,</span>
        <span class="n">virtual</span><span class="o">=</span><span class="n">virtual</span><span class="p">,</span>
        <span class="n">primary_key</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">index</span><span class="o">=</span><span class="n">index</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">server_default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">onupdate</span><span class="o">=</span><span class="n">onupdate</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="n">ondelete</span><span class="p">,</span>
        <span class="n">owner</span><span class="o">=</span><span class="n">owner</span><span class="p">,</span>
        <span class="n">self_reference</span><span class="o">=</span><span class="n">self_reference</span><span class="p">,</span>
        <span class="n">is_relation</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">orders_by</span><span class="o">=</span><span class="n">orders_by</span><span class="p">,</span>
        <span class="n">related_orders_by</span><span class="o">=</span><span class="n">related_orders_by</span><span class="p">,</span>
        <span class="n">skip_reverse</span><span class="o">=</span><span class="n">skip_reverse</span><span class="p">,</span>
        <span class="n">skip_field</span><span class="o">=</span><span class="n">skip_field</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">Field</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="s2">&quot;ForeignKey&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">ForeignKeyField</span><span class="p">,</span> <span class="n">BaseField</span><span class="p">),</span> <span class="p">{})</span>
    <span class="k">return</span> <span class="n">Field</span><span class="p">(</span><span class="o">**</span><span class="n">namespace</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="ormar.fields.foreign_key.create_dummy_instance" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_dummy_instance</span><span class="p">(</span><span class="n">fk</span><span class="p">,</span> <span class="n">pk</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Ormar never returns you a raw data.
So if you have a related field that has a value populated
it will construct you a Model instance out of it.</p>
<p>Creates a "fake" instance of passed Model from pk value.
The instantiated Model has only pk value filled.
To achieve this <strong>pk_only</strong> flag has to be passed as it skips the validation.</p>
<p>If the nested related Models are required they are set with -1 as pk value.</p>
<p>:param fk: class of the related Model to which instance should be constructed
:type fk: Model class
:param pk: value of the primary_key column
:type pk: Any
:return: Model instance populated with only pk
:rtype: Model</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>ormar/fields/foreign_key.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">create_dummy_instance</span><span class="p">(</span><span class="n">fk</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;T&quot;</span><span class="p">],</span> <span class="n">pk</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;T&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Ormar never returns you a raw data.</span>
<span class="sd">    So if you have a related field that has a value populated</span>
<span class="sd">    it will construct you a Model instance out of it.</span>

<span class="sd">    Creates a &quot;fake&quot; instance of passed Model from pk value.</span>
<span class="sd">    The instantiated Model has only pk value filled.</span>
<span class="sd">    To achieve this __pk_only__ flag has to be passed as it skips the validation.</span>

<span class="sd">    If the nested related Models are required they are set with -1 as pk value.</span>

<span class="sd">    :param fk: class of the related Model to which instance should be constructed</span>
<span class="sd">    :type fk: Model class</span>
<span class="sd">    :param pk: value of the primary_key column</span>
<span class="sd">    :type pk: Any</span>
<span class="sd">    :return: Model instance populated with only pk</span>
<span class="sd">    :rtype: Model</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">init_dict</span> <span class="o">=</span> <span class="p">{</span>
        <span class="o">**</span><span class="p">{</span><span class="n">fk</span><span class="o">.</span><span class="n">ormar_config</span><span class="o">.</span><span class="n">pkname</span><span class="p">:</span> <span class="n">pk</span> <span class="ow">or</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;__pk_only__&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
        <span class="o">**</span><span class="p">{</span>
            <span class="n">k</span><span class="p">:</span> <span class="n">create_dummy_instance</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">to</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">fk</span><span class="o">.</span><span class="n">ormar_config</span><span class="o">.</span><span class="n">model_fields</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">v</span><span class="o">.</span><span class="n">is_relation</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">v</span><span class="o">.</span><span class="n">nullable</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">v</span><span class="o">.</span><span class="n">virtual</span>
        <span class="p">},</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">fk</span><span class="p">(</span><span class="o">**</span><span class="n">init_dict</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="ormar.fields.foreign_key.create_dummy_model" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_dummy_model</span><span class="p">(</span><span class="n">base_model</span><span class="p">,</span> <span class="n">pk_field</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Used to construct a dummy pydantic model for type hints and pydantic validation.
Populates only pk field and set it to desired type.</p>
<p>:param base_model: class of target dummy model
:type base_model: Model class
:param pk_field: ormar Field to be set on pydantic Model
:type pk_field: Union[BaseField, "ForeignKeyField", "ManyToManyField"]
:return: constructed dummy model
:rtype: pydantic.BaseModel</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>ormar/fields/foreign_key.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">create_dummy_model</span><span class="p">(</span>
    <span class="n">base_model</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;T&quot;</span><span class="p">],</span>
    <span class="n">pk_field</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">BaseField</span><span class="p">,</span> <span class="s2">&quot;ForeignKeyField&quot;</span><span class="p">,</span> <span class="s2">&quot;ManyToManyField&quot;</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;BaseModel&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Used to construct a dummy pydantic model for type hints and pydantic validation.</span>
<span class="sd">    Populates only pk field and set it to desired type.</span>

<span class="sd">    :param base_model: class of target dummy model</span>
<span class="sd">    :type base_model: Model class</span>
<span class="sd">    :param pk_field: ormar Field to be set on pydantic Model</span>
<span class="sd">    :type pk_field: Union[BaseField, &quot;ForeignKeyField&quot;, &quot;ManyToManyField&quot;]</span>
<span class="sd">    :return: constructed dummy model</span>
<span class="sd">    :rtype: pydantic.BaseModel</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">alias</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">choices</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">ascii_uppercase</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">6</span><span class="p">))</span>  <span class="c1"># + uuid.uuid4().hex[:4]</span>
    <span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="n">fields</span> <span class="o">=</span> <span class="p">{</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">pk_field</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">:</span> <span class="p">(</span><span class="n">pk_field</span><span class="o">.</span><span class="n">__type__</span><span class="p">,</span> <span class="kc">None</span><span class="p">)}</span>

    <span class="n">dummy_model</span> <span class="o">=</span> <span class="n">create_model</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
        <span class="sa">f</span><span class="s2">&quot;PkOnly</span><span class="si">{</span><span class="n">base_model</span><span class="o">.</span><span class="n">get_name</span><span class="p">(</span><span class="n">lower</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="si">}{</span><span class="n">alias</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="vm">__module__</span><span class="o">=</span><span class="n">base_model</span><span class="o">.</span><span class="vm">__module__</span><span class="p">,</span>
        <span class="o">**</span><span class="n">fields</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">dummy_model</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="ormar.fields.foreign_key.populate_fk_params_based_on_to_model" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">populate_fk_params_based_on_to_model</span><span class="p">(</span><span class="n">to</span><span class="p">,</span> <span class="n">nullable</span><span class="p">,</span> <span class="n">onupdate</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ondelete</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Based on target to model to which relation leads to populates the type of the
pydantic field to use, ForeignKey constraint and type of the target column field.</p>
<p>:param to: target related ormar Model
:type to: Model class
:param nullable: marks field as optional/ required
:type nullable: bool
:param onupdate: parameter passed to sqlalchemy.ForeignKey.
How to treat child rows on update of parent (the one where FK is defined) model.
:type onupdate: str
:param ondelete: parameter passed to sqlalchemy.ForeignKey.
How to treat child rows on delete of parent (the one where FK is defined) model.
:type ondelete: str
:return: tuple with target pydantic type, list of fk constraints and target col type
:rtype: Tuple[Any, List, Any]</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>ormar/fields/foreign_key.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">populate_fk_params_based_on_to_model</span><span class="p">(</span>
    <span class="n">to</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;T&quot;</span><span class="p">],</span>
    <span class="n">nullable</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="n">onupdate</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">ondelete</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Based on target to model to which relation leads to populates the type of the</span>
<span class="sd">    pydantic field to use, ForeignKey constraint and type of the target column field.</span>

<span class="sd">    :param to: target related ormar Model</span>
<span class="sd">    :type to: Model class</span>
<span class="sd">    :param nullable: marks field as optional/ required</span>
<span class="sd">    :type nullable: bool</span>
<span class="sd">    :param onupdate: parameter passed to sqlalchemy.ForeignKey.</span>
<span class="sd">    How to treat child rows on update of parent (the one where FK is defined) model.</span>
<span class="sd">    :type onupdate: str</span>
<span class="sd">    :param ondelete: parameter passed to sqlalchemy.ForeignKey.</span>
<span class="sd">    How to treat child rows on delete of parent (the one where FK is defined) model.</span>
<span class="sd">    :type ondelete: str</span>
<span class="sd">    :return: tuple with target pydantic type, list of fk constraints and target col type</span>
<span class="sd">    :rtype: Tuple[Any, List, Any]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">fk_string</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">to</span><span class="o">.</span><span class="n">ormar_config</span><span class="o">.</span><span class="n">tablename</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="n">to</span><span class="o">.</span><span class="n">get_column_alias</span><span class="p">(</span><span class="n">to</span><span class="o">.</span><span class="n">ormar_config</span><span class="o">.</span><span class="n">pkname</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">to_field</span> <span class="o">=</span> <span class="n">to</span><span class="o">.</span><span class="n">ormar_config</span><span class="o">.</span><span class="n">model_fields</span><span class="p">[</span><span class="n">to</span><span class="o">.</span><span class="n">ormar_config</span><span class="o">.</span><span class="n">pkname</span><span class="p">]</span>
    <span class="n">pk_only_model</span> <span class="o">=</span> <span class="n">create_dummy_model</span><span class="p">(</span><span class="n">to</span><span class="p">,</span> <span class="n">to_field</span><span class="p">)</span>
    <span class="n">__type__</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">Union</span><span class="p">[</span><span class="n">to_field</span><span class="o">.</span><span class="n">__type__</span><span class="p">,</span> <span class="n">to</span><span class="p">,</span> <span class="n">pk_only_model</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">nullable</span>
        <span class="k">else</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">to_field</span><span class="o">.</span><span class="n">__type__</span><span class="p">,</span> <span class="n">to</span><span class="p">,</span> <span class="n">pk_only_model</span><span class="p">]]</span>
    <span class="p">)</span>
    <span class="n">constraints</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">ForeignKeyConstraint</span><span class="p">(</span>
            <span class="n">reference</span><span class="o">=</span><span class="n">fk_string</span><span class="p">,</span> <span class="n">ondelete</span><span class="o">=</span><span class="n">ondelete</span><span class="p">,</span> <span class="n">onupdate</span><span class="o">=</span><span class="n">onupdate</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span>
        <span class="p">)</span>
    <span class="p">]</span>
    <span class="n">column_type</span> <span class="o">=</span> <span class="n">to_field</span><span class="o">.</span><span class="n">column_type</span>
    <span class="k">return</span> <span class="n">__type__</span><span class="p">,</span> <span class="n">constraints</span><span class="p">,</span> <span class="n">column_type</span><span class="p">,</span> <span class="n">pk_only_model</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="ormar.fields.foreign_key.validate_not_allowed_fields" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">validate_not_allowed_fields</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Verifies if not allowed parameters are set on relation models.
Usually they are omitted later anyway but this way it's explicitly
notify the user that it's not allowed/ supported.</p>
<p>:raises ModelDefinitionError: if any forbidden field is set
:param kwargs: dict of kwargs to verify passed to relation field
:type kwargs: Dict</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>ormar/fields/foreign_key.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">validate_not_allowed_fields</span><span class="p">(</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Verifies if not allowed parameters are set on relation models.</span>
<span class="sd">    Usually they are omitted later anyway but this way it&#39;s explicitly</span>
<span class="sd">    notify the user that it&#39;s not allowed/ supported.</span>

<span class="sd">    :raises ModelDefinitionError: if any forbidden field is set</span>
<span class="sd">    :param kwargs: dict of kwargs to verify passed to relation field</span>
<span class="sd">    :type kwargs: Dict</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">default</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;default&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">encrypt_secret</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;encrypt_secret&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">encrypt_backend</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;encrypt_backend&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">encrypt_custom_backend</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;encrypt_custom_backend&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">overwrite_pydantic_type</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;overwrite_pydantic_type&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

    <span class="n">not_supported</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">default</span><span class="p">,</span>
        <span class="n">encrypt_secret</span><span class="p">,</span>
        <span class="n">encrypt_backend</span><span class="p">,</span>
        <span class="n">encrypt_custom_backend</span><span class="p">,</span>
        <span class="n">overwrite_pydantic_type</span><span class="p">,</span>
    <span class="p">]</span>
    <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">x</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">not_supported</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">ModelDefinitionError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Argument </span><span class="si">{</span><span class="nb">next</span><span class="p">((</span><span class="n">x</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">not_supported</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="ow">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="kc">None</span><span class="p">))</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;is not supported &quot;</span>
            <span class="s2">&quot;on relation fields!&quot;</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="ormar.fields.foreign_key.validate_referential_action" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">validate_referential_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Validation <code>onupdate</code> and <code>ondelete</code> action cast to a string value</p>
<p>:raises ModelDefinitionError: if action is a not valid name string value
:param action: referential action attribute or name string
:type action: Optional[Union[ReferentialAction, str]]
:rtype: Optional[str]</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>ormar/fields/foreign_key.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">validate_referential_action</span><span class="p">(</span>
    <span class="n">action</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">ReferentialAction</span><span class="p">,</span> <span class="nb">str</span><span class="p">]],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Validation `onupdate` and `ondelete` action cast to a string value</span>

<span class="sd">    :raises ModelDefinitionError: if action is a not valid name string value</span>
<span class="sd">    :param action: referential action attribute or name string</span>
<span class="sd">    :type action: Optional[Union[ReferentialAction, str]]</span>
<span class="sd">    :rtype: Optional[str]</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">action</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">action</span><span class="p">,</span> <span class="n">ReferentialAction</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">action</span> <span class="o">=</span> <span class="n">ReferentialAction</span><span class="p">(</span><span class="n">action</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">AttributeError</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">ModelDefinitionError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">action</span><span class="si">}</span><span class="s2"> ReferentialAction not supported.&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">action</span><span class="o">.</span><span class="n">value</span> <span class="k">if</span> <span class="n">action</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>









  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.60a45f97.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js"></script>
      
        <script src="../../../javascripts/config.js"></script>
      
    
  </body>
</html>